var C=Object.create;var b=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames,N=Object.getOwnPropertySymbols,I=Object.getPrototypeOf,j=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var K=(e,t,o)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,G=(e,t)=>{for(var o in t||(t={}))j.call(t,o)&&K(e,o,t[o]);if(N)for(var o of N(t))R.call(t,o)&&K(e,o,t[o]);return e};var $=e=>b(e,"__esModule",{value:!0});var S=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var J=(e,t,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of x(t))!j.call(e,n)&&n!=="default"&&b(e,n,{get:()=>t[n],enumerable:!(o=E(t,n))||o.enumerable});return e},T=e=>J($(b(e!=null?C(I(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var _=S(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.AnonymousSelectKey=c.Select=c.Not=c.Guard=c.PatternKind=void 0;c.PatternKind=Symbol("@ts-pattern/pattern-kind");c.Guard=Symbol("@ts-pattern/guard");c.Not=Symbol("@ts-pattern/not");c.Select=Symbol("@ts-pattern/select");c.AnonymousSelectKey="@ts-pattern/__anonymous-select-key"});var O=S(d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});d.instanceOf=d.select=d.not=d.when=void 0;var i=_(),U=e=>({[i.PatternKind]:i.Guard,[i.Guard]:e});d.when=U;var V=e=>({[i.PatternKind]:i.Not,[i.Not]:e});d.not=V;function H(e){return e===void 0?{[i.PatternKind]:i.Select,[i.Select]:i.AnonymousSelectKey}:{[i.PatternKind]:i.Select,[i.Select]:e}}d.select=H;function L(e){return t=>t instanceof e}var Q=e=>(0,d.when)(L(e));d.instanceOf=Q});var M=S(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.__=void 0;var m=O();function W(e){return!0}function X(e){return typeof e=="number"}function Y(e){return Number.isNaN(e)}function Z(e){return typeof e=="string"}function v(e){return typeof e=="boolean"}function ee(e){return e==null}var te=(0,m.when)(W),ne=(0,m.when)(Z),oe=(0,m.when)(X),re=(0,m.when)(Y),se=(0,m.when)(v),ie=(0,m.when)(ee);g.__=Object.assign(te,{string:ne,number:oe,NaN:re,boolean:se,nullish:ie})});var k=S(r=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.isMatching=r.match=r.instanceOf=r.select=r.not=r.when=r.__=void 0;var a=_(),p=O();Object.defineProperty(r,"when",{enumerable:!0,get:function(){return p.when}});Object.defineProperty(r,"not",{enumerable:!0,get:function(){return p.not}});Object.defineProperty(r,"select",{enumerable:!0,get:function(){return p.select}});Object.defineProperty(r,"instanceOf",{enumerable:!0,get:function(){return p.instanceOf}});var A=M();Object.defineProperty(r,"__",{enumerable:!0,get:function(){return A.__}});var ce=e=>P(e,[]);r.match=ce;var P=(e,t)=>{let o=()=>{let n=t.find(({test:s})=>s(e));if(!n){let s;try{s=JSON.stringify(e)}catch{s=e}throw new Error(`Pattern matching error: no pattern matches value ${s}`)}return n.handler(n.select(e),e)};return{with(...n){let s=n[n.length-1],f=[],u=[];for(let h=0;h<n.length-1;h++){let y=n[h];typeof y=="function"?u.push(y):f.push(y)}let w={},B=h=>Boolean(f.some(y=>l(y,h,(q,z)=>{w[q]=z}))&&u.every(y=>y(h)));return P(e,t.concat([{test:B,handler:s,select:h=>Object.keys(w).length?a.AnonymousSelectKey in w?w[a.AnonymousSelectKey]:w:h}]))},when:(n,s)=>P(e,t.concat([{test:n,handler:s,select:f=>f}])),otherwise:n=>P(e,t.concat([{test:()=>!0,handler:n,select:s=>s}])).run(),exhaustive:()=>o(),run:o}},D=e=>Boolean(e&&typeof e=="object"),de=e=>{let t=e;return t&&t[a.PatternKind]===a.Guard},ae=e=>{let t=e;return t&&t[a.PatternKind]===a.Not},ue=e=>{let t=e;return t&&t[a.PatternKind]===a.Select},l=(e,t,o)=>{if(D(e)){if(de(e))return Boolean(e[a.Guard](t));if(ue(e))return o(e[a.Select],t),!0;if(ae(e))return!l(e[a.Not],t,o);if(!D(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length===1){let n={},s=(u,w)=>{n[u]=(n[u]||[]).concat([w])},f=t.every(u=>l(e[0],u,s));return f&&Object.keys(n).forEach(u=>o(u,n[u])),f}return e.length===t.length?e.every((n,s)=>l(n,t[s],o)):!1}if(e instanceof Map)return t instanceof Map?[...e.keys()].every(n=>l(e.get(n),t.get(n),o)):!1;if(e instanceof Set){if(!(t instanceof Set))return!1;if(e.size===0)return t.size===0;if(e.size===1){let[n]=[...e.values()];return Object.values(A.__).includes(n)?l([n],[...t.values()],o):t.has(n)}return[...e.values()].every(n=>t.has(n))}return Object.keys(e).every(n=>n in t&&l(e[n],t[n],o))}return t===e};function le(...e){if(e.length===1){let[t]=e;return o=>l(t,o,()=>{})}if(e.length===2){let[t,o]=e;return l(t,o,()=>{})}throw new Error(`isMatching wasn't given enough arguments: expected 1 or 2, received ${e.length}.`)}r.isMatching=le});var F=T(k()),be=e=>{let t=(0,F.match)(e).with({downloadFailed:!0},()=>"history").with({downloadCancelled:!0},()=>"history").with({downloadSkipped:!0},()=>"history").with({downloadSucceeded:!0},()=>"history").with({downloadSucceeded:!0,downloadSkipped:!1,downloadCancelled:!1,downloadFailed:!1},()=>"active").otherwise(()=>"queued");return G({downloadFailed:!1,downloadError:null,downloadCancelled:!1,downloadCancellationReason:"",downloadSkipped:!1,downloadSkippedReason:"",downloadStarted:!1,downloadSucceeded:!1,downloadProgress:0,downloadSpeed:0,downloadedBytes:0,downloadFileSize:0,mediaDownloadTries:0,status:t},e)};export{be as reconstructMinimizedDownloadData};
