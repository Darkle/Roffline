<!DOCTYPE html>
<html lang="en">
  {% include "partials/head.njk" %}
  <body v-bind:class="index-page {% if userSettings.darkModeTheme %}dark-theme{% endif %}">
    <!-- prettier-ignore -->
    {% set userSettings = userSettings %}
    {% set basePath = basePath %}
    {% set isSubPage = isSubPage %}
    {% set currentSubredditBrowsing = currentSubredditBrowsing %}
    {% include 'partials/page-header.njk' %}

    {# Doing it this way so the editor doesnt complain about the nunjucks tags in the script element not being valid JS #}
    <# decodeHTML('%3Cscript%3E') | safe #>
      window.userSettings = <# userSettings | dump | safe #>
      window.posts = <# posts | dump | safe #>
    <# decodeHTML('%3C/script%3E') | safe #>
    <script src="/js/index-page.js<# cacheBustString #>" type="module"></script>
  </body>
</html>
